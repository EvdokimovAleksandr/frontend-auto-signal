# üîê –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

## –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è

–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ **–ª–æ–≥–∏–Ω –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - —ç—Ç–æ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –ø—Ä–æ—Ü–µ—Å—Å**. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–æ–≤—ã–π –≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–ª–∏ —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ï–¥–∏–Ω—ã–π —ç–Ω–¥–ø–æ–∏–Ω—Ç `/api/users/login`

- **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –ï—Å–ª–∏ User ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ - —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç
- **–°—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: –ï—Å–ª–∏ User ID –Ω–∞–π–¥–µ–Ω - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ –≤—ã–¥–∞–µ—Ç—Å—è —Ç–æ–∫–µ–Ω

### 2. –ü–æ–ª—è —Ñ–æ—Ä–º—ã

#### ‚úÖ Telegram User ID (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)
- **–ß—Ç–æ —ç—Ç–æ?** –£–Ω–∏–∫–∞–ª—å–Ω—ã–π —á–∏—Å–ª–æ–≤–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏–∑ Telegram
- **–ì–¥–µ –Ω–∞–π—Ç–∏?** 
  - –°–ø—Ä–æ—Å–∏—Ç–µ —É –±–æ—Ç–∞ [@userinfobot](https://t.me/userinfobot) –≤ Telegram
  - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±–æ–π —á–∏—Å–ª–æ–≤–æ–π ID –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **–ü—Ä–∏–º–µ—Ä—ã:** `123456789`, `5158383447`, `5378516737`
- **–í–∞–∂–Ω–æ:** –≠—Ç–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ!

#### üìù Telegram Username (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ß—Ç–æ —ç—Ç–æ?** –í–∞—à Telegram username –±–µ–∑ —Å–∏–º–≤–æ–ª–∞ @
- **–ü—Ä–∏–º–µ—Ä—ã:** `username`, `TytaPaxa`, `A_n_d_r_e_y_X2`
- **–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º** - —ç—Ç–æ –ø–æ–ª–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ

#### üë§ –í–∞—à–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–ß—Ç–æ —ç—Ç–æ?** –í–∞—à–µ –∏–º—è –∏–ª–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è
- **–ü—Ä–∏–º–µ—Ä—ã:** `–ò–≤–∞–Ω`, `–ü–∞–≤–µ–ª`, `Andrey`, `Test User`
- **–ú–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –ø—É—Å—Ç—ã–º** - —ç—Ç–æ –ø–æ–ª–µ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ

## –ü—Ä–æ—Ü–µ—Å—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç @username –∏–ª–∏ —á–∏—Å–ª–æ–≤–æ–π User ID
   ‚Üì
2. –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ POST /api/users/login
   ‚Üì
3a. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω username ‚Üí Backend –ø–æ–ª—É—á–∞–µ—Ç User ID —á–µ—Ä–µ–∑ Telegram Bot API
3b. –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω User ID ‚Üí –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
   ‚Üì
4. Backend –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ç–∞–∫–∏–º User ID
   ‚Üì
5a. –ï—Å–ª–∏ –ù–ï –Ω–∞–π–¥–µ–Ω ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
5b. –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   ‚Üì
6. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JWT —Ç–æ–∫–µ–Ω (–¥–µ–π—Å—Ç–≤—É–µ—Ç 30 –¥–Ω–µ–π)
   ‚Üì
7. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –∞–¥–º–∏–Ω–∞ –∏ –ø—Ä–µ–º–∏—É–º
   ‚Üì
8. –¢–æ–∫–µ–Ω —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
   ‚Üì
9. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

## –ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –Ω–∞ –±—ç–∫–µ–Ω–¥–µ

```javascript
// Backend –∏—Å–ø–æ–ª—å–∑—É–µ—Ç upsert (update or insert)
const user = await prisma.users.upsert({
  where: { user_id: BigInt(userId) },
  update: {
    username: username !== undefined ? username : undefined,
    name: name !== undefined ? name : undefined,
  },
  create: {
    user_id: BigInt(userId),
    username: username || null,
    name: name || null,
  },
});
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ username (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```
–í–≤–æ–¥: @NucWinter
‚Üí –°–∏—Å—Ç–µ–º–∞ –ø–æ–ª—É—á–∞–µ—Ç User ID —á–µ—Ä–µ–∑ Telegram Bot API
‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è/–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç
‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–ª–Ω—è—é—Ç—Å—è username –∏ –∏–º—è (–µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–Ω–æ)
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —á–∏—Å–ª–æ–≤–æ–º—É User ID
```
–í–≤–æ–¥: 123456789
‚Üí –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é
‚Üí –°–æ–∑–¥–∞–µ—Ç—Å—è/–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç
```

### Fallback: –ü–æ–∏—Å–∫ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
```
–í–≤–æ–¥: @username (–µ—Å–ª–∏ Bot Token –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
‚Üí –°–∏—Å—Ç–µ–º–∞ –∏—â–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î –ø–æ username
‚Üí –ï—Å–ª–∏ –Ω–∞–π–¥–µ–Ω - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –µ–≥–æ User ID
‚Üí –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ JWT —Ç–æ–∫–µ–Ω —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `localStorage`
- ‚úÖ –¢–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω 30 –¥–Ω–µ–π
- ‚úÖ –ü—Ä–∏ –æ—à–∏–±–∫–µ 401/403 —Ç–æ–∫–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è–µ—Ç—Å—è

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

1. **–ê–¥–º–∏–Ω —Å—Ç–∞—Ç—É—Å** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `admin_users`
2. **–ü—Ä–µ–º–∏—É–º —Å—Ç–∞—Ç—É—Å** - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ `premium_users` (–∞–∫—Ç–∏–≤–Ω–∞ –ª–∏ –ø–æ–¥–ø–∏—Å–∫–∞)

–≠—Ç–∏ —Å—Ç–∞—Ç—É—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã –≤ Redux store:
```typescript
const { isAdmin, isPremium } = useAppSelector((state) => state.auth)
```

## FAQ

**Q: –ù—É–∂–Ω–æ –ª–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ?**  
A: –ù–µ—Ç! –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à username (–Ω–∞–ø—Ä–∏–º–µ—Ä, @NucWinter) - –∞–∫–∫–∞—É–Ω—Ç —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

**Q: –ß—Ç–æ –µ—Å–ª–∏ —è –Ω–µ –∑–Ω–∞—é —Å–≤–æ–π User ID?**  
A: –ü—Ä–æ—Å—Ç–æ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à Telegram username —Å @ (–Ω–∞–ø—Ä–∏–º–µ—Ä, @NucWinter) - —Å–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –ø–æ–ª—É—á–∏—Ç User ID.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —á–∏—Å–ª–æ–≤–æ–π User ID?**  
A: –î–∞! –í—ã –º–æ–∂–µ—Ç–µ –≤–≤–µ—Å—Ç–∏ –ª–∏–±–æ @username, –ª–∏–±–æ —á–∏—Å–ª–æ–≤–æ–π User ID - –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç.

**Q: –ß—Ç–æ –µ—Å–ª–∏ Bot Token –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω?**  
A: –°–∏—Å—Ç–µ–º–∞ –ø–æ–ø—ã—Ç–∞–µ—Ç—Å—è –Ω–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ username. –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ—Ç - –≤–µ—Ä–Ω–µ—Ç—Å—è –æ—à–∏–±–∫–∞ —Å –ø–æ–¥—Å–∫–∞–∑–∫–æ–π.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å User ID?**  
A: –ù–µ—Ç, User ID - —ç—Ç–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∏ –µ–≥–æ –Ω–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å.

**Q: –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —è —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω?**  
A: –ü—Ä–æ—Å—Ç–æ –≤–æ–π–¥–∏—Ç–µ —Å —Ç–µ–º –∂–µ username –∏–ª–∏ User ID - —Å–∏—Å—Ç–µ–º–∞ –≤–∞—Å —É–∑–Ω–∞–µ—Ç –∏ –æ–±–Ω–æ–≤–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.

